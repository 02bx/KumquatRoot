# 设计文档

## 功能要求
* 主界面指定搜索路径并设置匹配字符串搜索文件
    * 匹配字符串可以是精确的词组，或是正则表达式。

* 可选择使用黑/白名单过滤指定扩展名的文件
    * 使用白名单，白名单内存在的扩展名的文件才被搜索  
    * 使用黑名单，黑名单内存在的扩展名的文件不被搜索  
    * 黑白名单都可用正则表达式指定  
    * 名单设置使用配置文件保存  

* 符合条件的结果由一个多列列表呈现
    * 呈现信息：文件名、文件路径、文件属性等等（视需要）  
    * 双击列表项打开改文件所在的目录  


## 大致的获取结果流程
磁盘文件 -> 黑白名单过滤 -> 文件名过滤 -> 词组过滤 -> 结果

## 用户使用流程
用户点击程序，最先进入主界面。主界面上有很多开关，用户需要设置开关，填好各种参数，然后点击【搜索】按钮。
点击搜索按钮后，我们应该锁定主界面，不准用户再做任何更改，然后弹出SearchingDlg对话框。 进入“搜索流程”

## 搜索流程
开启一个统计线程，统计待进行词组搜索的文件。统计线程先枚举原始磁盘文件，然后根据名单过滤，文件名过滤，剩下待搜索文件。把这些文件信息发到一个队列中。  
与统计线程开启同时开启另一个线程，进行词组搜索操作。获取队列中的文件信息，打开文件，获取内容，进行词组匹配。符合的结果保存下来，发回主界面显示。若队列中没有数据，则进入等待。

